---
title: "Robinning"
subtitle: "5- get bin coverage"
author: "Robin Rohwer"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{css, echo=FALSE}
pre code, pre, code {
  white-space: pre !important;
  overflow-x: scroll !important;
  word-break: keep-all !important;
  word-wrap: initial !important;
}
```

## Speed up file transfers

Tired of the v..e..r..y slow process of transferring files to SCRATCH, so I made some scripts to do it in parallel. By submitting to the development node, it jumps the queue unless things are really busy. Best to do script set-up on Sundays though, when TACC is way less busy, because it has been insane lately. 

These were all generated by `server-scripts/written/2023-02-24_copying_files_in_paralelle/generate_moving_and_zipping_scripts.R`, and they include copying and unzipping the common files I use. 

Examples:
```{bash, eval = T}
head -n 3 ../server-scripts/generated/2023-02-24_copying_files_in_paralelle/copy_fastqs.launcher
```
```{bash, eval = T}
head -n 3 ../server-scripts/generated/2023-02-24_copying_files_in_paralelle/copy_bins.launcher
```
```{bash, eval = T}
head -n 3 ../server-scripts/generated/2023-02-24_copying_files_in_paralelle/untargz_sample_folders.launcher
```
And they have slurm scripts that parallelize over 4 nodes, 1 process per thread:
```{bash, eval = T}
cat ../server-scripts/generated/2023-02-24_copying_files_in_paralelle/copy_fastqs.slurm
```

## Concatenate bins

First I concatenated the winning bins from the dRep 96% ANI output. Instead of using the fasta files that dRep provides, I just pulled from the full list of bin files. Note that this lets us easily pull out bins based on the dRep results without having to save to full dRep results folders. The concatenation commands were generated with an R script: `server-scripts/written/2023-03-02-22_map_to_dRep_96_winners/1-concatenate_drep_winners.R`.  
That R script generated a shell script that looks like:
```{bash, eval = T}
head -n 5 ../server-scripts/generated/2023-03-02-22_map_to_dRep_96_winners/1-concatenate_drep_winners.sh
```

## Run bbmap on TACC

After making the reference concatenated genomes, and transferring files to SCRATCH, I ran bbmap to map all the metagenome fastq files against the concatenated dRep 96ANI genomes.  

First, I used an interactive development node to make the bbmap reference. This is quick, less than 4 minutes.

```{bash, eval=F}
idev -t 00:45:00
module load biocontainers
module load bbmap
bbmap.sh ref=drep_96_winners_concat.fna
exit
```

Next I ran bbmap with all the metagenomes. I created the submit scripts using `server-scripts/written/2023-03-02-22_map_to_dRep_96_winners/make_mapping_scripts.R`. Note this is a much bigger individual mapping run than each of the 50-sample subsets I did when creating the bins, so I am using more nodes and requesting a lot more time.  Overall it actually took 11 hrs.

slurm:
```{bash, eval=F}
#!/bin/bash
#SBATCH -J mapping
#SBATCH -p normal
#SBATCH -N 40
#SBATCH -n 40
#SBATCH -t 36:0:00
#SBATCH -o mapping.o%j
#SBATCH -e mapping.e%j
#SBATCH --mail-type=all
#SBATCH --mail-user=rohwer@utexas.edu
module load biocontainers
module load launcher
export LAUNCHER_JOB_FILE=map_to_drep.launcher
export LAUNCHER_SCHED=interleaved
${LAUNCHER_DIR}/paramrun
```
top of launcher:
```{bash, eval=F}
module load bbmap; bbmap.sh in=../filtered_reads/ME2013-02-02s1D0_3300042325_filtered-reads.fastq.gz out=ME2013-02-02s1D0_3300042325.sam 32bit=t
module load bbmap; bbmap.sh in=../filtered_reads/ME2015-04-11_3300034167_filtered-reads.fastq.gz out=ME2015-04-11_3300034167.sam 32bit=t
module load bbmap; bbmap.sh in=../filtered_reads/ME2001-03-13pf_3300033984_filtered-reads.fastq.gz out=ME2001-03-13pf_3300033984.sam 32bit=t
module load bbmap; bbmap.sh in=../filtered_reads/ME2001-04-10pf_3300042886_filtered-reads.fastq.gz out=ME2001-04-10pf_3300042886.sam 32bit=t
module load bbmap; bbmap.sh in=../filtered_reads/ME2002-02-28pf_3300044568_filtered-reads.fastq.gz out=ME2002-02-28pf_3300044568.sam 32bit=t
```

## Sort bams on tacc

These submit scripts were also created by `server-scripts/written/2023-03-02-22_map_to_dRep_96_winners/make_mapping_scripts.R`. They took 45 minutes to run.

slurm:
```{bash, eval=F}
#!/bin/bash
#SBATCH -J sorting
#SBATCH -p normal
#SBATCH -N 40
#SBATCH -n 120
#SBATCH -t 12:0:00
#SBATCH -o sorting.o%j
#SBATCH -e sorting.e%j
#SBATCH --mail-type=all
#SBATCH --mail-user=rohwer@utexas.edu
module load biocontainers
module load launcher
export LAUNCHER_JOB_FILE=sort_drep_sams.launcher
export LAUNCHER_SCHED=interleaved
${LAUNCHER_DIR}/paramrun
```
top of launcher:
```{bash, eval=F}
module load samtools; samtools sort -o ME2013-02-02s1D0_3300042325.bam -O bam -@ 41 ME2013-02-02s1D0_3300042325.sam
module load samtools; samtools sort -o ME2015-04-11_3300034167.bam -O bam -@ 41 ME2015-04-11_3300034167.sam
module load samtools; samtools sort -o ME2001-03-13pf_3300033984.bam -O bam -@ 41 ME2001-03-13pf_3300033984.sam
module load samtools; samtools sort -o ME2001-04-10pf_3300042886.bam -O bam -@ 41 ME2001-04-10pf_3300042886.sam
module load samtools; samtools sort -o ME2002-02-28pf_3300044568.bam -O bam -@ 41 ME2002-02-28pf_3300044568.sam
```

## Get coverM abundances

First I generated a genome reference file for coverM to use. This lists the scaffolds and what genome they belong to. I made it by listing all the scaffold names, and then parsing out the genome name because that's included as part of the scaffold name. The script that made this file is `server-scripts/written/2023-03-15_run_coverM_on_drep96_winners/make_coverM_genome-reference_file.R` and the top of the file looks like:
```{bash, eval = F}
ME2013-02-02s1D0_3300042325_group4_bin39	ME2013-02-02s1D0_3300042325_group4_bin39_scaffold_234_c1
ME2013-02-02s1D0_3300042325_group4_bin39	ME2013-02-02s1D0_3300042325_group4_bin39_scaffold_300_c1
ME2013-02-02s1D0_3300042325_group4_bin39	ME2013-02-02s1D0_3300042325_group4_bin39_scaffold_320_c1
ME2013-02-02s1D0_3300042325_group4_bin39	ME2013-02-02s1D0_3300042325_group4_bin39_scaffold_182_c2
ME2013-02-02s1D0_3300042325_group4_bin39	ME2013-02-02s1D0_3300042325_group4_bin39_scaffold_375_c1
```

Next I made the submit script with `server-scripts/written/2023-03-15_run_coverM_on_drep96_winners/make_coverM_submit_scripts.R`. CoverM doesn't parallelize well, 
but it uses a lot of memory so I could run 3 per node. I just ran 2 per node, one that mapped all reads, and one that excluded reads with ANI < 93% (this is the cutoff used by inStrain). 
I also required "proper pairs" which I think makes it more stringent but I don't fully understand. I excluded 1000 bp from the ends of each scaffold from the coverage calculation, 
based on our comparison results with the 95% ANI bins.  

This took 14:42:47 hrs to run.

slurm:
```{bash, eval = F}
#!/bin/bash
#SBATCH -J coverm
#SBATCH -p normal
#SBATCH -N 1
#SBATCH -n 2
#SBATCH -t 20:0:00
#SBATCH -o coverm.o%j
#SBATCH -e coverm.e%j
#SBATCH --mail-type=all
#SBATCH --mail-user=rohwer@utexas.edu
module load launcher
export LAUNCHER_JOB_FILE=get_coverm_stats.launcher
export LAUNCHER_SCHED=interleaved
${LAUNCHER_DIR}/paramrun
```
launcher:
```{bash, eval = F}
source /work/08922/rrohwer/ls6/miniforge3/etc/profile.d/conda.sh ; conda activate coverm ; coverm genome --bam-files ../maptodrep96/ME2013-02-02s1D0_3300042325.bam ../maptodrep96/ME2015-04-11_3300034167.bam ../maptodrep96/ME2001-03-13pf_3300033984.bam ../maptodrep96/ME2001-04-10pf_3300042886.bam ../maptodrep96/ME2002-02-28pf_3300044568.bam ../maptodrep96/ME2002-09-27pf_3300034103.bam ../maptodrep96/ME2003-05-28_3300042454.bam ../maptodrep96/ME2005-04-11_3300042883.bam ../maptodrep96/ME2009-02-24D2_3300042896.bam ../maptodrep96/ME2009-06-09_3300042893.bam ../maptodrep96/ME2009-06-18_3300042523.bam ../maptodrep96/ME2012-03-15_3300042562.bam ../maptodrep96/ME2012-05-17_3300042870.bam ../maptodrep96/ME2012-08-31_3300044613.bam ../maptodrep96/ME2012-10-08_3300042520.bam ../maptodrep96/ME2013-05-16_3300034060.bam ../maptodrep96/ME2013-08-13_3300042350.bam ../maptodrep96/ME2014-05-23_3300033995.bam ../maptodrep96/ME2014-06-19_3300042502.bam ../maptodrep96/ME2014-07-08_3300044634.bam ../maptodrep96/ME2014-08-05_3300044627.bam ../maptodrep96/ME2014-08-07_3300034120.bam ../maptodrep96/ME2014-09-07_3300035187.bam ../maptodrep96/ME2014-09-11_3300037507.bam ../maptodrep96/ME2014-11-09_3300042907.bam ../maptodrep96/ME2015-03-07_3300042541.bam ../maptodrep96/ME2015-04-27_3300042381.bam ../maptodrep96/ME2015-05-02_3300035682.bam ../maptodrep96/ME2015-05-09_3300035438.bam ../maptodrep96/ME2015-09-13_3300035666.bam ../maptodrep96/ME2016-04-20_3300042472.bam ../maptodrep96/ME2016-04-22_3300042393.bam ../maptodrep96/ME2016-05-23_3300042458.bam ../maptodrep96/ME2016-08-22_3300042508.bam ../maptodrep96/ME2018-04-11_3300037516.bam ../maptodrep96/ME2018-06-26_3300042295.bam ../maptodrep96/ME2018-07-17_3300044591.bam ../maptodrep96/ME2019-02-15D0_3300044639.bam ../maptodrep96/ME2019-02-22_3300042369.bam ../maptodrep96/ME2019-03-08_3300044859.bam ../maptodrep96/ME2019-03-01_3300042479.bam ../maptodrep96/ME2014-08-21_3300042521.bam ../maptodrep96/ME2015-09-19_3300042364.bam ../maptodrep96/ME2016-09-23_3300044730.bam ../maptodrep96/ME2004-08-06_3300043437.bam ../maptodrep96/ME2004-09-02_3300034061.bam ../maptodrep96/ME2004-10-12_3300042433.bam ../maptodrep96/ME2017-07-24_3300042509.bam ../maptodrep96/ME2017-07-27_3300044645.bam ../maptodrep96/ME2004-07-22_3300044716.bam ../maptodrep96/ME2009-08-26_3300034109.bam ../maptodrep96/ME2013-07-18_3300034200.bam ../maptodrep96/ME2017-07-18_3300034272.bam ../maptodrep96/ME2001-11-26pf_3300042887.bam ../maptodrep96/ME2002-07-17pf_3300034102.bam ../maptodrep96/ME2003-07-23pf_3300044630.bam ../maptodrep96/ME2003-08-07pf_3300034283.bam ../maptodrep96/ME2004-06-25_3300042545.bam ../maptodrep96/ME2005-07-07_3300044535.bam ../maptodrep96/ME2006-07-25D11_3300033994.bam ../maptodrep96/ME2006-08-01D12_3300042387.bam ../maptodrep96/ME2006-08-03D11_3300047094.bam ../maptodrep96/ME2006-08-08D7_3300042516.bam ../maptodrep96/ME2006-08-10D11_3300044971.bam ../maptodrep96/ME2009-07-30_3300044620.bam ../maptodrep96/ME2012-06-29_3300044675.bam ../maptodrep96/ME2014-06-24_3300034108.bam ../maptodrep96/ME2014-06-30_3300044643.bam ../maptodrep96/ME2014-10-05_3300035664.bam ../maptodrep96/ME2014-11-02_3300042937.bam ../maptodrep96/ME2015-06-27_3300042558.bam ../maptodrep96/ME2015-06-29_3300044732.bam ../maptodrep96/ME2015-07-03_3300042555.bam ../maptodrep96/ME2015-07-07_3300042695.bam ../maptodrep96/ME2015-07-10_3300035680.bam ../maptodrep96/ME2016-11-11_3300042882.bam ../maptodrep96/ME2018-07-03_3300044637.bam ../maptodrep96/ME2014-07-24_3300043772.bam ../maptodrep96/ME2016-07-27_3300042906.bam ../maptodrep96/ME2016-07-29_3300044622.bam ../maptodrep96/ME2017-08-08_3300044911.bam ../maptodrep96/ME2018-07-11_3300044614.bam ../maptodrep96/ME2018-07-27_3300044621.bam ../maptodrep96/ME2018-08-06_3300044608.bam ../maptodrep96/ME2018-08-14_3300043803.bam ../maptodrep96/ME2018-08-16_3300044615.bam ../maptodrep96/ME2018-08-20_3300044629.bam ../maptodrep96/ME2011-08-09_3300042528.bam ../maptodrep96/ME2016-07-08_3300034284.bam ../maptodrep96/ME2017-07-08_3300042568.bam ../maptodrep96/ME2001-07-02D8pf_3300042397.bam ../maptodrep96/ME2001-07-16D8pf_3300042503.bam ../maptodrep96/ME2001-07-30D7pf_3300042309.bam ../maptodrep96/ME2001-08-13pf_3300042453.bam ../maptodrep96/ME2005-08-16_3300042507.bam ../maptodrep96/ME2005-09-19_3300034101.bam ../maptodrep96/ME2005-10-10_3300044625.bam ../maptodrep96/ME2008-08-22_3300047095.bam ../maptodrep96/ME2008-09-05D10_3300042305.bam ../maptodrep96/ME2011-09-21_3300043464.bam ../maptodrep96/ME2012-08-17_3300049595.bam ../maptodrep96/ME2013-07-29_3300044619.bam ../maptodrep96/ME2013-08-09_3300042924.bam ../maptodrep96/ME2014-06-18_3300034117.bam ../maptodrep96/ME2014-06-26_3300042992.bam ../maptodrep96/ME2014-07-04_3300034018.bam ../maptodrep96/ME2014-08-06_3300042321.bam ../maptodrep96/ME2014-08-22_3300042298.bam ../maptodrep96/ME2014-08-25_3300037517.bam ../maptodrep96/ME2014-08-29_3300036719.bam ../maptodrep96/ME2015-06-19_3300044640.bam ../maptodrep96/ME2015-07-01_3300042455.bam ../maptodrep96/ME2015-07-21_3300034119.bam ../maptodrep96/ME2015-07-24_3300037520.bam ../maptodrep96/ME2015-07-30_3300044647.bam ../maptodrep96/ME2015-08-03_3300042288.bam ../maptodrep96/ME2017-07-11_3300034066.bam ../maptodrep96/ME2017-08-01_3300042376.bam ../maptodrep96/ME2017-08-05_3300034118.bam ../maptodrep96/ME2018-07-06_3300042522.bam ../maptodrep96/ME2018-07-19_3300042331.bam ../maptodrep96/ME2018-08-01_3300042480.bam ../maptodrep96/ME2018-08-08_3300044636.bam ../maptodrep96/ME2014-09-17_3300042434.bam ../maptodrep96/ME2015-09-01_3300035663.bam ../maptodrep96/ME2015-08-22_3300042470.bam ../maptodrep96/ME2015-09-22_3300037508.bam ../maptodrep96/ME2015-09-26_3300035689.bam ../maptodrep96/ME2015-10-10_3300044731.bam ../maptodrep96/ME2015-10-18_3300034355.bam ../maptodrep96/ME2015-10-22_3300042382.bam ../maptodrep96/ME2015-10-25_3300042292.bam ../maptodrep96/ME2015-11-03_3300035190.bam ../maptodrep96/ME2015-08-16_3300047121.bam ../maptodrep96/ME2015-10-04_3300042525.bam ../maptodrep96/ME2017-09-07_3300037541.bam ../maptodrep96/ME2017-09-15_3300044707.bam ../maptodrep96/ME2017-10-20_3300044844.bam ../maptodrep96/ME2000-08-17pf_3300042335.bam ../maptodrep96/ME2000-09-11pf_3300034094.bam ../maptodrep96/ME2000-09-26pf_3300044610.bam ../maptodrep96/ME2002-08-29pf_3300044678.bam ../maptodrep96/ME2002-09-12pf_3300042556.bam ../maptodrep96/ME2008-10-02D10_3300034063.bam ../maptodrep96/ME2010-07-27_3300043773.bam ../maptodrep96/ME2010-08-05_3300042554.bam ../maptodrep96/ME2010-08-17_3300042939.bam ../maptodrep96/ME2010-09-14_3300042543.bam ../maptodrep96/ME2012-10-12_3300044644.bam ../maptodrep96/ME2013-07-24_3300042357.bam ../maptodrep96/ME2013-08-01_3300042866.bam ../maptodrep96/ME2014-08-15_3300042478.bam ../maptodrep96/ME2015-08-01_3300042515.bam ../maptodrep96/ME2015-08-05_3300042468.bam ../maptodrep96/ME2015-08-07_3300034020.bam ../maptodrep96/ME2015-08-11_3300044626.bam ../maptodrep96/ME2015-08-13_3300044527.bam ../maptodrep96/ME2015-09-16_3300042289.bam ../maptodrep96/ME2016-08-10_3300042547.bam ../maptodrep96/ME2018-07-24_3300044631.bam ../maptodrep96/ME2018-09-14_3300042561.bam ../maptodrep96/ME2001-09-10pf_3300042914.bam ../maptodrep96/ME2001-09-26pf_3300043571.bam ../maptodrep96/ME2014-08-01_3300042326.bam ../maptodrep96/ME2015-08-09_3300033980.bam ../maptodrep96/ME2015-10-06_3300042338.bam ../maptodrep96/ME2018-09-22_3300044646.bam ../maptodrep96/ME2018-08-31_3300042380.bam ../maptodrep96/ME2012-09-13_3300034166.bam ../maptodrep96/ME2008-09-15D10_3300042539.bam ../maptodrep96/ME2015-10-15_3300034096.bam ../maptodrep96/ME2002-09-24pf_3300044858.bam ../maptodrep96/ME2002-10-08pf_3300042317.bam ../maptodrep96/ME2003-09-08pf_3300042542.bam ../maptodrep96/ME2003-09-22_3300044612.bam ../maptodrep96/ME2010-07-15_3300042557.bam ../maptodrep96/ME2012-07-06_3300042299.bam ../maptodrep96/ME2012-07-13_3300044638.bam ../maptodrep96/ME2012-07-20_3300033993.bam ../maptodrep96/ME2013-09-16_3300042560.bam ../maptodrep96/ME2016-07-22_3300044628.bam ../maptodrep96/ME2017-08-24_3300042518.bam ../maptodrep96/ME2010-08-30_3300042452.bam ../maptodrep96/ME2011-10-03_3300034111.bam ../maptodrep96/ME2012-08-24_3300042294.bam ../maptodrep96/ME2013-07-11_3300042332.bam ../maptodrep96/ME2014-08-20_3300044733.bam ../maptodrep96/ME2016-07-20_3300033996.bam ../maptodrep96/ME2016-08-25_3300042477.bam ../maptodrep96/ME2016-08-30_3300044843.bam ../maptodrep96/ME2017-08-18_3300034012.bam ../maptodrep96/ME2017-08-30_3300033979.bam ../maptodrep96/ME2018-08-25_3300042355.bam ../maptodrep96/ME2018-09-04_3300043099.bam ../maptodrep96/ME2001-10-09pf_3300042861.bam ../maptodrep96/ME2012-11-09_3300043539.bam ../maptodrep96/ME2012-11-16_3300044530.bam ../maptodrep96/ME2014-08-19_3300042467.bam ../maptodrep96/ME2014-08-24_3300033981.bam ../maptodrep96/ME2014-08-26_3300042320.bam ../maptodrep96/ME2014-08-27_3300034112.bam ../maptodrep96/ME2014-08-28_3300035662.bam ../maptodrep96/ME2014-08-31_3300042860.bam ../maptodrep96/ME2014-09-03_3300042504.bam ../maptodrep96/ME2014-09-13_3300035665.bam ../maptodrep96/ME2014-09-21_3300035681.bam ../maptodrep96/ME2014-09-24_3300034019.bam ../maptodrep96/ME2014-10-01_3300034021.bam ../maptodrep96/ME2000-08-01pf_3300043466.bam ../maptodrep96/ME2002-08-14_3300042565.bam ../maptodrep96/ME2013-08-30_3300042905.bam ../maptodrep96/ME2015-07-28_3300036406.bam ../maptodrep96/ME2016-09-28_3300042471.bam ../maptodrep96/ME2009-09-13_3300044617.bam ../maptodrep96/ME2009-08-10_3300034280.bam ../maptodrep96/ME2010-09-26_3300042540.bam ../maptodrep96/ME2010-10-13_3300042946.bam ../maptodrep96/ME2011-01-18_3300042890.bam ../maptodrep96/ME2013-08-06_3300042881.bam ../maptodrep96/ME2015-08-19_3300042395.bam ../maptodrep96/ME2015-08-25_3300042365.bam ../maptodrep96/ME2015-08-30_3300044855.bam ../maptodrep96/ME2017-07-14_3300042517.bam ../maptodrep96/ME2018-07-09_3300042349.bam ../maptodrep96/ME2014-05-07_3300042938.bam ../maptodrep96/ME2015-05-24_3300044546.bam ../maptodrep96/ME2015-05-27_3300043435.bam ../maptodrep96/ME2016-04-06_3300034168.bam ../maptodrep96/ME2016-04-13_3300034068.bam ../maptodrep96/ME2016-04-29_3300042297.bam ../maptodrep96/ME2016-05-06_3300042878.bam ../maptodrep96/ME2000-10-10pf_3300042337.bam ../maptodrep96/ME2000-10-24pf_3300042406.bam ../maptodrep96/ME2007-11-01_3300042891.bam ../maptodrep96/ME2009-12-04_3300042390.bam ../maptodrep96/ME2010-02-13_3300042897.bam ../maptodrep96/ME2010-11-19DC_3300042469.bam ../maptodrep96/ME2010-12-03_3300042482.bam ../maptodrep96/ME2013-09-06_3300042553.bam ../maptodrep96/ME2014-10-11_3300043567.bam ../maptodrep96/ME2014-10-16_3300042505.bam ../maptodrep96/ME2016-09-01_3300049594.bam ../maptodrep96/ME2016-09-09_3300042527.bam ../maptodrep96/ME2017-09-22_3300042362.bam ../maptodrep96/ME2002-11-07_3300042865.bam ../maptodrep96/ME2013-11-14_3300034064.bam ../maptodrep96/ME2014-01-11D0_3300042371.bam ../maptodrep96/ME2014-02-02D0_3300034095.bam ../maptodrep96/ME2014-02-09D0_3300044623.bam ../maptodrep96/ME2014-05-15_3300034105.bam ../maptodrep96/ME2014-05-29_3300042867.bam ../maptodrep96/ME2014-05-30_3300043465.bam ../maptodrep96/ME2014-08-03_3300034122.bam ../maptodrep96/ME2014-09-28_3300033978.bam ../maptodrep96/ME2015-02-15_3300042450.bam ../maptodrep96/ME2015-05-31_3300043467.bam ../maptodrep96/ME2015-06-02_3300042900.bam ../maptodrep96/ME2015-06-04_3300042869.bam ../maptodrep96/ME2016-10-14_3300044974.bam ../maptodrep96/ME2017-10-13_3300042908.bam ../maptodrep96/ME2017-11-03_3300044655.bam ../maptodrep96/ME2018-10-24_3300044533.bam ../maptodrep96/ME2018-10-31_3300042386.bam ../maptodrep96/ME2018-11-08_3300044516.bam ../maptodrep96/ME2018-11-08GD_3300042510.bam ../maptodrep96/ME2018-11-08GD_3300042901.bam ../maptodrep96/ME2018-11-08GD_3300042940.bam ../maptodrep96/ME2018-11-08GD_3300046832.bam ../maptodrep96/ME2019-04-20_3300044522.bam ../maptodrep96/ME2001-10-20pf_3300042343.bam ../maptodrep96/ME2002-10-22pf_3300042328.bam ../maptodrep96/ME2003-11-11_3300044715.bam ../maptodrep96/ME2005-11-08_3300042400.bam ../maptodrep96/ME2007-09-27_3300042476.bam ../maptodrep96/ME2007-10-12_3300042312.bam ../maptodrep96/ME2008-10-17D10_3300034071.bam ../maptodrep96/ME2009-09-27_3300042546.bam ../maptodrep96/ME2009-10-07_3300042345.bam ../maptodrep96/ME2009-10-26_3300042402.bam ../maptodrep96/ME2009-11-14_3300042308.bam ../maptodrep96/ME2010-10-29_3300042378.bam ../maptodrep96/ME2011-01-30DC_3300042894.bam ../maptodrep96/ME2012-10-26_3300043775.bam ../maptodrep96/ME2014-05-28_3300035212.bam ../maptodrep96/ME2014-08-18_3300042300.bam ../maptodrep96/ME2015-05-19_3300034121.bam ../maptodrep96/ME2015-05-28_3300042334.bam ../maptodrep96/ME2015-06-05_3300034082.bam ../maptodrep96/ME2016-05-12_3300042304.bam ../maptodrep96/ME2016-05-16_3300042935.bam ../maptodrep96/ME2016-09-16_3300042388.bam ../maptodrep96/ME2016-10-07_3300042340.bam ../maptodrep96/ME2016-10-19_3300042359.bam ../maptodrep96/ME2016-10-21_3300034023.bam ../maptodrep96/ME2016-10-28_3300042346.bam ../maptodrep96/ME2016-11-16_3300042396.bam ../maptodrep96/ME2017-10-04_3300042344.bam ../maptodrep96/ME2017-12-01_3300044633.bam ../maptodrep96/ME2018-01-19_3300042384.bam ../maptodrep96/ME2018-04-20_3300034022.bam ../maptodrep96/ME2018-09-29_3300049629.bam ../maptodrep96/ME2018-10-05_3300044616.bam ../maptodrep96/ME2018-10-13_3300044632.bam ../maptodrep96/ME2018-11-08GD_3300034116.bam ../maptodrep96/ME2018-11-08GD_3300042399.bam ../maptodrep96/ME2019-03-19_3300042506.bam ../maptodrep96/ME2019-04-24_3300042353.bam ../maptodrep96/ME2004-09-30_3300044641.bam ../maptodrep96/ME2000-03-15pf_3300044539.bam ../maptodrep96/ME2000-03-30D8pf_3300042899.bam ../maptodrep96/ME2002-04-17pf_3300042318.bam ../maptodrep96/ME2002-04-23pf_3300042511.bam ../maptodrep96/ME2002-05-07pf_3300042892.bam ../maptodrep96/ME2002-11-20pf_3300042474.bam ../maptodrep96/ME2003-05-13_3300042862.bam ../maptodrep96/ME2003-10-15_3300042462.bam ../maptodrep96/ME2003-10-27_3300042673.bam ../maptodrep96/ME2005-02-11D0_3300042485.bam ../maptodrep96/ME2006-08-18D11_3300042945.bam ../maptodrep96/ME2006-08-30D12_3300044970.bam ../maptodrep96/ME2008-05-10_3300042401.bam ../maptodrep96/ME2009-02-10D2_3300042336.bam ../maptodrep96/ME2011-05-03_3300037519.bam ../maptodrep96/ME2011-05-18_3300042526.bam ../maptodrep96/ME2011-06-13_3300042898.bam ../maptodrep96/ME2012-09-27_3300043468.bam ../maptodrep96/ME2012-11-05_3300042449.bam ../maptodrep96/ME2013-03-24s1D0_3300042524.bam ../maptodrep96/ME2013-05-13_3300034051.bam ../maptodrep96/ME2013-05-21_3300042460.bam ../maptodrep96/ME2013-08-23_3300034106.bam ../maptodrep96/ME2014-06-08_3300034093.bam ../maptodrep96/ME2018-04-25_3300042375.bam ../maptodrep96/ME2003-07-11_3300042290.bam ../maptodrep96/ME2008-07-22_3300042566.bam ../maptodrep96/ME2009-06-26_3300044609.bam ../maptodrep96/ME2010-07-06_3300042444.bam ../maptodrep96/ME2011-07-25_3300042383.bam ../maptodrep96/ME2015-07-13_3300044624.bam ../maptodrep96/ME2015-07-15_3300044618.bam ../maptodrep96/ME2018-06-28_3300042559.bam ../maptodrep96/ME2002-07-01_3300044642.bam ../maptodrep96/ME2003-06-27_3300042884.bam ../maptodrep96/ME2004-09-16_3300033816.bam ../maptodrep96/ME2005-08-02_3300034104.bam ../maptodrep96/ME2006-07-12D11_3300042448.bam ../maptodrep96/ME2006-08-18D6_3300036398.bam ../maptodrep96/ME2008-07-11_3300042486.bam ../maptodrep96/ME2012-09-07_3300043786.bam ../maptodrep96/ME2014-07-17_3300034279.bam ../maptodrep96/ME2016-07-06_3300042374.bam ../maptodrep96/ME2017-06-27_3300042323.bam ../maptodrep96/ME2006-08-22D15_3300044611.bam ../maptodrep96/ME2013-05-07_3300034050.bam ../maptodrep96/ME2002-06-05pf_3300043568.bam ../maptodrep96/ME2003-06-09_3300049597.bam ../maptodrep96/ME2013-07-03_3300042392.bam ../maptodrep96/ME2006-05-15D7_3300044846.bam ../maptodrep96/ME2007-06-25D7_3300043774.bam ../maptodrep96/ME2011-11-01_3300042367.bam ../maptodrep96/ME2012-04-02_3300042293.bam ../maptodrep96/ME2017-06-13_3300043469.bam ../maptodrep96/ME2018-06-05_3300043470.bam ../maptodrep96/ME2018-06-14_3300042564.bam ../maptodrep96/ME2000-05-11D8pf_3300042483.bam ../maptodrep96/ME2000-05-25pf_3300042154.bam ../maptodrep96/ME2000-06-06pf_3300042549.bam ../maptodrep96/ME2000-06-20pf_3300042868.bam ../maptodrep96/ME2001-05-07pf_3300042889.bam ../maptodrep96/ME2001-05-21pf_3300042465.bam ../maptodrep96/ME2001-06-04pf_3300042445.bam ../maptodrep96/ME2001-08-28pf_3300042879.bam ../maptodrep96/ME2001-11-06pf_3300044966.bam ../maptodrep96/ME2002-05-24pf_3300042563.bam ../maptodrep96/ME2004-05-19_3300042291.bam ../maptodrep96/ME2004-05-26_3300049596.bam ../maptodrep96/ME2004-06-11_3300042997.bam ../maptodrep96/ME2005-05-04_3300042322.bam ../maptodrep96/ME2005-05-25_3300042391.bam ../maptodrep96/ME2005-06-22_3300042363.bam ../maptodrep96/ME2006-06-22D9_3300042569.bam ../maptodrep96/ME2006-07-18D11_3300042451.bam ../maptodrep96/ME2006-07-20D11_3300042361.bam ../maptodrep96/ME2006-09-01D11_3300042347.bam ../maptodrep96/ME2008-06-25_3300042484.bam ../maptodrep96/ME2009-05-07D12_3300042394.bam ../maptodrep96/ME2009-05-12D11_3300042287.bam ../maptodrep96/ME2009-06-01D10_3300034110.bam ../maptodrep96/ME2010-06-02_3300042885.bam ../maptodrep96/ME2010-06-15_3300042880.bam ../maptodrep96/ME2011-06-01_3300042354.bam ../maptodrep96/ME2011-06-28_3300042360.bam ../maptodrep96/ME2011-11-30_3300042310.bam ../maptodrep96/ME2012-05-05_3300042888.bam ../maptodrep96/ME2012-06-02_3300042567.bam ../maptodrep96/ME2012-06-08_3300044547.bam ../maptodrep96/ME2012-06-15_3300044845.bam ../maptodrep96/ME2012-06-22_3300042373.bam ../maptodrep96/ME2012-10-22_3300042315.bam ../maptodrep96/ME2012-11-29D4_3300042372.bam ../maptodrep96/ME2013-03-02s1D0_3300042313.bam ../maptodrep96/ME2013-04-30_3300042333.bam ../maptodrep96/ME2013-05-24_3300042324.bam ../maptodrep96/ME2013-05-28_3300042329.bam ../maptodrep96/ME2013-05-31_3300042377.bam ../maptodrep96/ME2013-06-03_3300042936.bam ../maptodrep96/ME2013-06-10_3300042339.bam ../maptodrep96/ME2013-06-13_3300043438.bam ../maptodrep96/ME2013-06-20_3300042519.bam ../maptodrep96/ME2013-06-27_3300042327.bam ../maptodrep96/ME2014-07-20_3300042348.bam ../maptodrep96/ME2015-06-08_3300042430.bam ../maptodrep96/ME2015-06-10_3300042356.bam ../maptodrep96/ME2015-06-12_3300042296.bam ../maptodrep96/ME2015-06-16_3300042319.bam ../maptodrep96/ME2015-06-23_3300042314.bam ../maptodrep96/ME2016-05-18_3300042895.bam ../maptodrep96/ME2016-05-20_3300043570.bam ../maptodrep96/ME2016-05-26_3300042342.bam ../maptodrep96/ME2016-06-02_3300042429.bam ../maptodrep96/ME2016-06-08_3300042307.bam ../maptodrep96/ME2016-06-13_3300042447.bam ../maptodrep96/ME2016-06-21_3300042351.bam ../maptodrep96/ME2016-06-23_3300042466.bam ../maptodrep96/ME2016-06-30_3300036399.bam ../maptodrep96/ME2017-04-21_3300034107.bam ../maptodrep96/ME2017-05-12_3300034357.bam ../maptodrep96/ME2017-05-23_3300042302.bam ../maptodrep96/ME2017-05-25_3300042863.bam ../maptodrep96/ME2017-06-02_3300042446.bam ../maptodrep96/ME2017-06-07_3300042514.bam ../maptodrep96/ME2017-06-09_3300042875.bam ../maptodrep96/ME2017-06-17_3300042311.bam ../maptodrep96/ME2017-06-18_3300042864.bam ../maptodrep96/ME2017-06-24_3300042306.bam ../maptodrep96/ME2018-05-24_3300044972.bam ../maptodrep96/ME2018-05-29_3300042473.bam ../maptodrep96/ME2018-06-07_3300034013.bam ../maptodrep96/ME2018-06-18_3300042544.bam ../maptodrep96/ME2018-06-21_3300042341.bam ../maptodrep96/ME2000-07-17pf_3300043436.bam ../maptodrep96/ME2004-07-08_3300048593.bam ../maptodrep96/ME2010-04-20_3300042379.bam ../maptodrep96/ME2010-06-21_3300042303.bam ../maptodrep96/ME2011-07-12_3300042398.bam ../maptodrep96/ME2014-06-10_3300042385.bam ../maptodrep96/ME2014-06-16_3300033992.bam ../maptodrep96/ME2014-06-17_3300034356.bam ../maptodrep96/ME2002-07-17_3300042464.bam ../maptodrep96/ME2002-08-01_3300044695.bam ../maptodrep96/ME2008-08-07_3300042389.bam ../maptodrep96/ME2002-06-17_3300042432.bam ../maptodrep96/ME2005-08-31_3300042366.bam ../maptodrep96/ME2006-06-29D9_3300042301.bam ../maptodrep96/ME2006-07-05D10_3300042463.bam ../maptodrep96/ME2011-09-04_3300044729.bam ../maptodrep96/ME2015-06-25_3300042431.bam ../maptodrep96/ME2012-09-21_3300035188.bam ../maptodrep96/ME2012-07-27_3300034062.bam ../maptodrep96/ME2011-08-22_3300035126.bam ../maptodrep96/ME2012-08-03_3300034092.bam ../maptodrep96/ME2013-08-15_3300042475.bam ../maptodrep96/ME2017-06-20_3300042352.bam ../maptodrep96/ME2001-04-23_3300042358.bam ../maptodrep96/ME2006-06-27D10_3300042459.bam ../maptodrep96/ME2017-06-16_3300042330.bam ../maptodrep96/ME2014-07-27_3300042368.bam ../maptodrep96/ME2015-07-19_3300042456.bam ../maptodrep96/ME2015-07-26_3300044635.bam ../maptodrep96/ME2018-05-07_3300042481.bam ../maptodrep96/ME2013-02-09s1D0_3300042316.bam --genome-definition coverM_genome_reference.txt --min-read-percent-identity-pair 0 --proper-pairs-only --methods relative_abundance mean rpkm tpm --contig-end-exclusion 1000 --output-file coverM_drep96_minANI0.txt --output-format sparse --threads 64 &> coverM_drep96_terminal_output_minANI0.txt
source /work/08922/rrohwer/ls6/miniforge3/etc/profile.d/conda.sh ; conda activate coverm ; coverm genome --bam-files ../maptodrep96/ME2013-02-02s1D0_3300042325.bam ../maptodrep96/ME2015-04-11_3300034167.bam ../maptodrep96/ME2001-03-13pf_3300033984.bam ../maptodrep96/ME2001-04-10pf_3300042886.bam ../maptodrep96/ME2002-02-28pf_3300044568.bam ../maptodrep96/ME2002-09-27pf_3300034103.bam ../maptodrep96/ME2003-05-28_3300042454.bam ../maptodrep96/ME2005-04-11_3300042883.bam ../maptodrep96/ME2009-02-24D2_3300042896.bam ../maptodrep96/ME2009-06-09_3300042893.bam ../maptodrep96/ME2009-06-18_3300042523.bam ../maptodrep96/ME2012-03-15_3300042562.bam ../maptodrep96/ME2012-05-17_3300042870.bam ../maptodrep96/ME2012-08-31_3300044613.bam ../maptodrep96/ME2012-10-08_3300042520.bam ../maptodrep96/ME2013-05-16_3300034060.bam ../maptodrep96/ME2013-08-13_3300042350.bam ../maptodrep96/ME2014-05-23_3300033995.bam ../maptodrep96/ME2014-06-19_3300042502.bam ../maptodrep96/ME2014-07-08_3300044634.bam ../maptodrep96/ME2014-08-05_3300044627.bam ../maptodrep96/ME2014-08-07_3300034120.bam ../maptodrep96/ME2014-09-07_3300035187.bam ../maptodrep96/ME2014-09-11_3300037507.bam ../maptodrep96/ME2014-11-09_3300042907.bam ../maptodrep96/ME2015-03-07_3300042541.bam ../maptodrep96/ME2015-04-27_3300042381.bam ../maptodrep96/ME2015-05-02_3300035682.bam ../maptodrep96/ME2015-05-09_3300035438.bam ../maptodrep96/ME2015-09-13_3300035666.bam ../maptodrep96/ME2016-04-20_3300042472.bam ../maptodrep96/ME2016-04-22_3300042393.bam ../maptodrep96/ME2016-05-23_3300042458.bam ../maptodrep96/ME2016-08-22_3300042508.bam ../maptodrep96/ME2018-04-11_3300037516.bam ../maptodrep96/ME2018-06-26_3300042295.bam ../maptodrep96/ME2018-07-17_3300044591.bam ../maptodrep96/ME2019-02-15D0_3300044639.bam ../maptodrep96/ME2019-02-22_3300042369.bam ../maptodrep96/ME2019-03-08_3300044859.bam ../maptodrep96/ME2019-03-01_3300042479.bam ../maptodrep96/ME2014-08-21_3300042521.bam ../maptodrep96/ME2015-09-19_3300042364.bam ../maptodrep96/ME2016-09-23_3300044730.bam ../maptodrep96/ME2004-08-06_3300043437.bam ../maptodrep96/ME2004-09-02_3300034061.bam ../maptodrep96/ME2004-10-12_3300042433.bam ../maptodrep96/ME2017-07-24_3300042509.bam ../maptodrep96/ME2017-07-27_3300044645.bam ../maptodrep96/ME2004-07-22_3300044716.bam ../maptodrep96/ME2009-08-26_3300034109.bam ../maptodrep96/ME2013-07-18_3300034200.bam ../maptodrep96/ME2017-07-18_3300034272.bam ../maptodrep96/ME2001-11-26pf_3300042887.bam ../maptodrep96/ME2002-07-17pf_3300034102.bam ../maptodrep96/ME2003-07-23pf_3300044630.bam ../maptodrep96/ME2003-08-07pf_3300034283.bam ../maptodrep96/ME2004-06-25_3300042545.bam ../maptodrep96/ME2005-07-07_3300044535.bam ../maptodrep96/ME2006-07-25D11_3300033994.bam ../maptodrep96/ME2006-08-01D12_3300042387.bam ../maptodrep96/ME2006-08-03D11_3300047094.bam ../maptodrep96/ME2006-08-08D7_3300042516.bam ../maptodrep96/ME2006-08-10D11_3300044971.bam ../maptodrep96/ME2009-07-30_3300044620.bam ../maptodrep96/ME2012-06-29_3300044675.bam ../maptodrep96/ME2014-06-24_3300034108.bam ../maptodrep96/ME2014-06-30_3300044643.bam ../maptodrep96/ME2014-10-05_3300035664.bam ../maptodrep96/ME2014-11-02_3300042937.bam ../maptodrep96/ME2015-06-27_3300042558.bam ../maptodrep96/ME2015-06-29_3300044732.bam ../maptodrep96/ME2015-07-03_3300042555.bam ../maptodrep96/ME2015-07-07_3300042695.bam ../maptodrep96/ME2015-07-10_3300035680.bam ../maptodrep96/ME2016-11-11_3300042882.bam ../maptodrep96/ME2018-07-03_3300044637.bam ../maptodrep96/ME2014-07-24_3300043772.bam ../maptodrep96/ME2016-07-27_3300042906.bam ../maptodrep96/ME2016-07-29_3300044622.bam ../maptodrep96/ME2017-08-08_3300044911.bam ../maptodrep96/ME2018-07-11_3300044614.bam ../maptodrep96/ME2018-07-27_3300044621.bam ../maptodrep96/ME2018-08-06_3300044608.bam ../maptodrep96/ME2018-08-14_3300043803.bam ../maptodrep96/ME2018-08-16_3300044615.bam ../maptodrep96/ME2018-08-20_3300044629.bam ../maptodrep96/ME2011-08-09_3300042528.bam ../maptodrep96/ME2016-07-08_3300034284.bam ../maptodrep96/ME2017-07-08_3300042568.bam ../maptodrep96/ME2001-07-02D8pf_3300042397.bam ../maptodrep96/ME2001-07-16D8pf_3300042503.bam ../maptodrep96/ME2001-07-30D7pf_3300042309.bam ../maptodrep96/ME2001-08-13pf_3300042453.bam ../maptodrep96/ME2005-08-16_3300042507.bam ../maptodrep96/ME2005-09-19_3300034101.bam ../maptodrep96/ME2005-10-10_3300044625.bam ../maptodrep96/ME2008-08-22_3300047095.bam ../maptodrep96/ME2008-09-05D10_3300042305.bam ../maptodrep96/ME2011-09-21_3300043464.bam ../maptodrep96/ME2012-08-17_3300049595.bam ../maptodrep96/ME2013-07-29_3300044619.bam ../maptodrep96/ME2013-08-09_3300042924.bam ../maptodrep96/ME2014-06-18_3300034117.bam ../maptodrep96/ME2014-06-26_3300042992.bam ../maptodrep96/ME2014-07-04_3300034018.bam ../maptodrep96/ME2014-08-06_3300042321.bam ../maptodrep96/ME2014-08-22_3300042298.bam ../maptodrep96/ME2014-08-25_3300037517.bam ../maptodrep96/ME2014-08-29_3300036719.bam ../maptodrep96/ME2015-06-19_3300044640.bam ../maptodrep96/ME2015-07-01_3300042455.bam ../maptodrep96/ME2015-07-21_3300034119.bam ../maptodrep96/ME2015-07-24_3300037520.bam ../maptodrep96/ME2015-07-30_3300044647.bam ../maptodrep96/ME2015-08-03_3300042288.bam ../maptodrep96/ME2017-07-11_3300034066.bam ../maptodrep96/ME2017-08-01_3300042376.bam ../maptodrep96/ME2017-08-05_3300034118.bam ../maptodrep96/ME2018-07-06_3300042522.bam ../maptodrep96/ME2018-07-19_3300042331.bam ../maptodrep96/ME2018-08-01_3300042480.bam ../maptodrep96/ME2018-08-08_3300044636.bam ../maptodrep96/ME2014-09-17_3300042434.bam ../maptodrep96/ME2015-09-01_3300035663.bam ../maptodrep96/ME2015-08-22_3300042470.bam ../maptodrep96/ME2015-09-22_3300037508.bam ../maptodrep96/ME2015-09-26_3300035689.bam ../maptodrep96/ME2015-10-10_3300044731.bam ../maptodrep96/ME2015-10-18_3300034355.bam ../maptodrep96/ME2015-10-22_3300042382.bam ../maptodrep96/ME2015-10-25_3300042292.bam ../maptodrep96/ME2015-11-03_3300035190.bam ../maptodrep96/ME2015-08-16_3300047121.bam ../maptodrep96/ME2015-10-04_3300042525.bam ../maptodrep96/ME2017-09-07_3300037541.bam ../maptodrep96/ME2017-09-15_3300044707.bam ../maptodrep96/ME2017-10-20_3300044844.bam ../maptodrep96/ME2000-08-17pf_3300042335.bam ../maptodrep96/ME2000-09-11pf_3300034094.bam ../maptodrep96/ME2000-09-26pf_3300044610.bam ../maptodrep96/ME2002-08-29pf_3300044678.bam ../maptodrep96/ME2002-09-12pf_3300042556.bam ../maptodrep96/ME2008-10-02D10_3300034063.bam ../maptodrep96/ME2010-07-27_3300043773.bam ../maptodrep96/ME2010-08-05_3300042554.bam ../maptodrep96/ME2010-08-17_3300042939.bam ../maptodrep96/ME2010-09-14_3300042543.bam ../maptodrep96/ME2012-10-12_3300044644.bam ../maptodrep96/ME2013-07-24_3300042357.bam ../maptodrep96/ME2013-08-01_3300042866.bam ../maptodrep96/ME2014-08-15_3300042478.bam ../maptodrep96/ME2015-08-01_3300042515.bam ../maptodrep96/ME2015-08-05_3300042468.bam ../maptodrep96/ME2015-08-07_3300034020.bam ../maptodrep96/ME2015-08-11_3300044626.bam ../maptodrep96/ME2015-08-13_3300044527.bam ../maptodrep96/ME2015-09-16_3300042289.bam ../maptodrep96/ME2016-08-10_3300042547.bam ../maptodrep96/ME2018-07-24_3300044631.bam ../maptodrep96/ME2018-09-14_3300042561.bam ../maptodrep96/ME2001-09-10pf_3300042914.bam ../maptodrep96/ME2001-09-26pf_3300043571.bam ../maptodrep96/ME2014-08-01_3300042326.bam ../maptodrep96/ME2015-08-09_3300033980.bam ../maptodrep96/ME2015-10-06_3300042338.bam ../maptodrep96/ME2018-09-22_3300044646.bam ../maptodrep96/ME2018-08-31_3300042380.bam ../maptodrep96/ME2012-09-13_3300034166.bam ../maptodrep96/ME2008-09-15D10_3300042539.bam ../maptodrep96/ME2015-10-15_3300034096.bam ../maptodrep96/ME2002-09-24pf_3300044858.bam ../maptodrep96/ME2002-10-08pf_3300042317.bam ../maptodrep96/ME2003-09-08pf_3300042542.bam ../maptodrep96/ME2003-09-22_3300044612.bam ../maptodrep96/ME2010-07-15_3300042557.bam ../maptodrep96/ME2012-07-06_3300042299.bam ../maptodrep96/ME2012-07-13_3300044638.bam ../maptodrep96/ME2012-07-20_3300033993.bam ../maptodrep96/ME2013-09-16_3300042560.bam ../maptodrep96/ME2016-07-22_3300044628.bam ../maptodrep96/ME2017-08-24_3300042518.bam ../maptodrep96/ME2010-08-30_3300042452.bam ../maptodrep96/ME2011-10-03_3300034111.bam ../maptodrep96/ME2012-08-24_3300042294.bam ../maptodrep96/ME2013-07-11_3300042332.bam ../maptodrep96/ME2014-08-20_3300044733.bam ../maptodrep96/ME2016-07-20_3300033996.bam ../maptodrep96/ME2016-08-25_3300042477.bam ../maptodrep96/ME2016-08-30_3300044843.bam ../maptodrep96/ME2017-08-18_3300034012.bam ../maptodrep96/ME2017-08-30_3300033979.bam ../maptodrep96/ME2018-08-25_3300042355.bam ../maptodrep96/ME2018-09-04_3300043099.bam ../maptodrep96/ME2001-10-09pf_3300042861.bam ../maptodrep96/ME2012-11-09_3300043539.bam ../maptodrep96/ME2012-11-16_3300044530.bam ../maptodrep96/ME2014-08-19_3300042467.bam ../maptodrep96/ME2014-08-24_3300033981.bam ../maptodrep96/ME2014-08-26_3300042320.bam ../maptodrep96/ME2014-08-27_3300034112.bam ../maptodrep96/ME2014-08-28_3300035662.bam ../maptodrep96/ME2014-08-31_3300042860.bam ../maptodrep96/ME2014-09-03_3300042504.bam ../maptodrep96/ME2014-09-13_3300035665.bam ../maptodrep96/ME2014-09-21_3300035681.bam ../maptodrep96/ME2014-09-24_3300034019.bam ../maptodrep96/ME2014-10-01_3300034021.bam ../maptodrep96/ME2000-08-01pf_3300043466.bam ../maptodrep96/ME2002-08-14_3300042565.bam ../maptodrep96/ME2013-08-30_3300042905.bam ../maptodrep96/ME2015-07-28_3300036406.bam ../maptodrep96/ME2016-09-28_3300042471.bam ../maptodrep96/ME2009-09-13_3300044617.bam ../maptodrep96/ME2009-08-10_3300034280.bam ../maptodrep96/ME2010-09-26_3300042540.bam ../maptodrep96/ME2010-10-13_3300042946.bam ../maptodrep96/ME2011-01-18_3300042890.bam ../maptodrep96/ME2013-08-06_3300042881.bam ../maptodrep96/ME2015-08-19_3300042395.bam ../maptodrep96/ME2015-08-25_3300042365.bam ../maptodrep96/ME2015-08-30_3300044855.bam ../maptodrep96/ME2017-07-14_3300042517.bam ../maptodrep96/ME2018-07-09_3300042349.bam ../maptodrep96/ME2014-05-07_3300042938.bam ../maptodrep96/ME2015-05-24_3300044546.bam ../maptodrep96/ME2015-05-27_3300043435.bam ../maptodrep96/ME2016-04-06_3300034168.bam ../maptodrep96/ME2016-04-13_3300034068.bam ../maptodrep96/ME2016-04-29_3300042297.bam ../maptodrep96/ME2016-05-06_3300042878.bam ../maptodrep96/ME2000-10-10pf_3300042337.bam ../maptodrep96/ME2000-10-24pf_3300042406.bam ../maptodrep96/ME2007-11-01_3300042891.bam ../maptodrep96/ME2009-12-04_3300042390.bam ../maptodrep96/ME2010-02-13_3300042897.bam ../maptodrep96/ME2010-11-19DC_3300042469.bam ../maptodrep96/ME2010-12-03_3300042482.bam ../maptodrep96/ME2013-09-06_3300042553.bam ../maptodrep96/ME2014-10-11_3300043567.bam ../maptodrep96/ME2014-10-16_3300042505.bam ../maptodrep96/ME2016-09-01_3300049594.bam ../maptodrep96/ME2016-09-09_3300042527.bam ../maptodrep96/ME2017-09-22_3300042362.bam ../maptodrep96/ME2002-11-07_3300042865.bam ../maptodrep96/ME2013-11-14_3300034064.bam ../maptodrep96/ME2014-01-11D0_3300042371.bam ../maptodrep96/ME2014-02-02D0_3300034095.bam ../maptodrep96/ME2014-02-09D0_3300044623.bam ../maptodrep96/ME2014-05-15_3300034105.bam ../maptodrep96/ME2014-05-29_3300042867.bam ../maptodrep96/ME2014-05-30_3300043465.bam ../maptodrep96/ME2014-08-03_3300034122.bam ../maptodrep96/ME2014-09-28_3300033978.bam ../maptodrep96/ME2015-02-15_3300042450.bam ../maptodrep96/ME2015-05-31_3300043467.bam ../maptodrep96/ME2015-06-02_3300042900.bam ../maptodrep96/ME2015-06-04_3300042869.bam ../maptodrep96/ME2016-10-14_3300044974.bam ../maptodrep96/ME2017-10-13_3300042908.bam ../maptodrep96/ME2017-11-03_3300044655.bam ../maptodrep96/ME2018-10-24_3300044533.bam ../maptodrep96/ME2018-10-31_3300042386.bam ../maptodrep96/ME2018-11-08_3300044516.bam ../maptodrep96/ME2018-11-08GD_3300042510.bam ../maptodrep96/ME2018-11-08GD_3300042901.bam ../maptodrep96/ME2018-11-08GD_3300042940.bam ../maptodrep96/ME2018-11-08GD_3300046832.bam ../maptodrep96/ME2019-04-20_3300044522.bam ../maptodrep96/ME2001-10-20pf_3300042343.bam ../maptodrep96/ME2002-10-22pf_3300042328.bam ../maptodrep96/ME2003-11-11_3300044715.bam ../maptodrep96/ME2005-11-08_3300042400.bam ../maptodrep96/ME2007-09-27_3300042476.bam ../maptodrep96/ME2007-10-12_3300042312.bam ../maptodrep96/ME2008-10-17D10_3300034071.bam ../maptodrep96/ME2009-09-27_3300042546.bam ../maptodrep96/ME2009-10-07_3300042345.bam ../maptodrep96/ME2009-10-26_3300042402.bam ../maptodrep96/ME2009-11-14_3300042308.bam ../maptodrep96/ME2010-10-29_3300042378.bam ../maptodrep96/ME2011-01-30DC_3300042894.bam ../maptodrep96/ME2012-10-26_3300043775.bam ../maptodrep96/ME2014-05-28_3300035212.bam ../maptodrep96/ME2014-08-18_3300042300.bam ../maptodrep96/ME2015-05-19_3300034121.bam ../maptodrep96/ME2015-05-28_3300042334.bam ../maptodrep96/ME2015-06-05_3300034082.bam ../maptodrep96/ME2016-05-12_3300042304.bam ../maptodrep96/ME2016-05-16_3300042935.bam ../maptodrep96/ME2016-09-16_3300042388.bam ../maptodrep96/ME2016-10-07_3300042340.bam ../maptodrep96/ME2016-10-19_3300042359.bam ../maptodrep96/ME2016-10-21_3300034023.bam ../maptodrep96/ME2016-10-28_3300042346.bam ../maptodrep96/ME2016-11-16_3300042396.bam ../maptodrep96/ME2017-10-04_3300042344.bam ../maptodrep96/ME2017-12-01_3300044633.bam ../maptodrep96/ME2018-01-19_3300042384.bam ../maptodrep96/ME2018-04-20_3300034022.bam ../maptodrep96/ME2018-09-29_3300049629.bam ../maptodrep96/ME2018-10-05_3300044616.bam ../maptodrep96/ME2018-10-13_3300044632.bam ../maptodrep96/ME2018-11-08GD_3300034116.bam ../maptodrep96/ME2018-11-08GD_3300042399.bam ../maptodrep96/ME2019-03-19_3300042506.bam ../maptodrep96/ME2019-04-24_3300042353.bam ../maptodrep96/ME2004-09-30_3300044641.bam ../maptodrep96/ME2000-03-15pf_3300044539.bam ../maptodrep96/ME2000-03-30D8pf_3300042899.bam ../maptodrep96/ME2002-04-17pf_3300042318.bam ../maptodrep96/ME2002-04-23pf_3300042511.bam ../maptodrep96/ME2002-05-07pf_3300042892.bam ../maptodrep96/ME2002-11-20pf_3300042474.bam ../maptodrep96/ME2003-05-13_3300042862.bam ../maptodrep96/ME2003-10-15_3300042462.bam ../maptodrep96/ME2003-10-27_3300042673.bam ../maptodrep96/ME2005-02-11D0_3300042485.bam ../maptodrep96/ME2006-08-18D11_3300042945.bam ../maptodrep96/ME2006-08-30D12_3300044970.bam ../maptodrep96/ME2008-05-10_3300042401.bam ../maptodrep96/ME2009-02-10D2_3300042336.bam ../maptodrep96/ME2011-05-03_3300037519.bam ../maptodrep96/ME2011-05-18_3300042526.bam ../maptodrep96/ME2011-06-13_3300042898.bam ../maptodrep96/ME2012-09-27_3300043468.bam ../maptodrep96/ME2012-11-05_3300042449.bam ../maptodrep96/ME2013-03-24s1D0_3300042524.bam ../maptodrep96/ME2013-05-13_3300034051.bam ../maptodrep96/ME2013-05-21_3300042460.bam ../maptodrep96/ME2013-08-23_3300034106.bam ../maptodrep96/ME2014-06-08_3300034093.bam ../maptodrep96/ME2018-04-25_3300042375.bam ../maptodrep96/ME2003-07-11_3300042290.bam ../maptodrep96/ME2008-07-22_3300042566.bam ../maptodrep96/ME2009-06-26_3300044609.bam ../maptodrep96/ME2010-07-06_3300042444.bam ../maptodrep96/ME2011-07-25_3300042383.bam ../maptodrep96/ME2015-07-13_3300044624.bam ../maptodrep96/ME2015-07-15_3300044618.bam ../maptodrep96/ME2018-06-28_3300042559.bam ../maptodrep96/ME2002-07-01_3300044642.bam ../maptodrep96/ME2003-06-27_3300042884.bam ../maptodrep96/ME2004-09-16_3300033816.bam ../maptodrep96/ME2005-08-02_3300034104.bam ../maptodrep96/ME2006-07-12D11_3300042448.bam ../maptodrep96/ME2006-08-18D6_3300036398.bam ../maptodrep96/ME2008-07-11_3300042486.bam ../maptodrep96/ME2012-09-07_3300043786.bam ../maptodrep96/ME2014-07-17_3300034279.bam ../maptodrep96/ME2016-07-06_3300042374.bam ../maptodrep96/ME2017-06-27_3300042323.bam ../maptodrep96/ME2006-08-22D15_3300044611.bam ../maptodrep96/ME2013-05-07_3300034050.bam ../maptodrep96/ME2002-06-05pf_3300043568.bam ../maptodrep96/ME2003-06-09_3300049597.bam ../maptodrep96/ME2013-07-03_3300042392.bam ../maptodrep96/ME2006-05-15D7_3300044846.bam ../maptodrep96/ME2007-06-25D7_3300043774.bam ../maptodrep96/ME2011-11-01_3300042367.bam ../maptodrep96/ME2012-04-02_3300042293.bam ../maptodrep96/ME2017-06-13_3300043469.bam ../maptodrep96/ME2018-06-05_3300043470.bam ../maptodrep96/ME2018-06-14_3300042564.bam ../maptodrep96/ME2000-05-11D8pf_3300042483.bam ../maptodrep96/ME2000-05-25pf_3300042154.bam ../maptodrep96/ME2000-06-06pf_3300042549.bam ../maptodrep96/ME2000-06-20pf_3300042868.bam ../maptodrep96/ME2001-05-07pf_3300042889.bam ../maptodrep96/ME2001-05-21pf_3300042465.bam ../maptodrep96/ME2001-06-04pf_3300042445.bam ../maptodrep96/ME2001-08-28pf_3300042879.bam ../maptodrep96/ME2001-11-06pf_3300044966.bam ../maptodrep96/ME2002-05-24pf_3300042563.bam ../maptodrep96/ME2004-05-19_3300042291.bam ../maptodrep96/ME2004-05-26_3300049596.bam ../maptodrep96/ME2004-06-11_3300042997.bam ../maptodrep96/ME2005-05-04_3300042322.bam ../maptodrep96/ME2005-05-25_3300042391.bam ../maptodrep96/ME2005-06-22_3300042363.bam ../maptodrep96/ME2006-06-22D9_3300042569.bam ../maptodrep96/ME2006-07-18D11_3300042451.bam ../maptodrep96/ME2006-07-20D11_3300042361.bam ../maptodrep96/ME2006-09-01D11_3300042347.bam ../maptodrep96/ME2008-06-25_3300042484.bam ../maptodrep96/ME2009-05-07D12_3300042394.bam ../maptodrep96/ME2009-05-12D11_3300042287.bam ../maptodrep96/ME2009-06-01D10_3300034110.bam ../maptodrep96/ME2010-06-02_3300042885.bam ../maptodrep96/ME2010-06-15_3300042880.bam ../maptodrep96/ME2011-06-01_3300042354.bam ../maptodrep96/ME2011-06-28_3300042360.bam ../maptodrep96/ME2011-11-30_3300042310.bam ../maptodrep96/ME2012-05-05_3300042888.bam ../maptodrep96/ME2012-06-02_3300042567.bam ../maptodrep96/ME2012-06-08_3300044547.bam ../maptodrep96/ME2012-06-15_3300044845.bam ../maptodrep96/ME2012-06-22_3300042373.bam ../maptodrep96/ME2012-10-22_3300042315.bam ../maptodrep96/ME2012-11-29D4_3300042372.bam ../maptodrep96/ME2013-03-02s1D0_3300042313.bam ../maptodrep96/ME2013-04-30_3300042333.bam ../maptodrep96/ME2013-05-24_3300042324.bam ../maptodrep96/ME2013-05-28_3300042329.bam ../maptodrep96/ME2013-05-31_3300042377.bam ../maptodrep96/ME2013-06-03_3300042936.bam ../maptodrep96/ME2013-06-10_3300042339.bam ../maptodrep96/ME2013-06-13_3300043438.bam ../maptodrep96/ME2013-06-20_3300042519.bam ../maptodrep96/ME2013-06-27_3300042327.bam ../maptodrep96/ME2014-07-20_3300042348.bam ../maptodrep96/ME2015-06-08_3300042430.bam ../maptodrep96/ME2015-06-10_3300042356.bam ../maptodrep96/ME2015-06-12_3300042296.bam ../maptodrep96/ME2015-06-16_3300042319.bam ../maptodrep96/ME2015-06-23_3300042314.bam ../maptodrep96/ME2016-05-18_3300042895.bam ../maptodrep96/ME2016-05-20_3300043570.bam ../maptodrep96/ME2016-05-26_3300042342.bam ../maptodrep96/ME2016-06-02_3300042429.bam ../maptodrep96/ME2016-06-08_3300042307.bam ../maptodrep96/ME2016-06-13_3300042447.bam ../maptodrep96/ME2016-06-21_3300042351.bam ../maptodrep96/ME2016-06-23_3300042466.bam ../maptodrep96/ME2016-06-30_3300036399.bam ../maptodrep96/ME2017-04-21_3300034107.bam ../maptodrep96/ME2017-05-12_3300034357.bam ../maptodrep96/ME2017-05-23_3300042302.bam ../maptodrep96/ME2017-05-25_3300042863.bam ../maptodrep96/ME2017-06-02_3300042446.bam ../maptodrep96/ME2017-06-07_3300042514.bam ../maptodrep96/ME2017-06-09_3300042875.bam ../maptodrep96/ME2017-06-17_3300042311.bam ../maptodrep96/ME2017-06-18_3300042864.bam ../maptodrep96/ME2017-06-24_3300042306.bam ../maptodrep96/ME2018-05-24_3300044972.bam ../maptodrep96/ME2018-05-29_3300042473.bam ../maptodrep96/ME2018-06-07_3300034013.bam ../maptodrep96/ME2018-06-18_3300042544.bam ../maptodrep96/ME2018-06-21_3300042341.bam ../maptodrep96/ME2000-07-17pf_3300043436.bam ../maptodrep96/ME2004-07-08_3300048593.bam ../maptodrep96/ME2010-04-20_3300042379.bam ../maptodrep96/ME2010-06-21_3300042303.bam ../maptodrep96/ME2011-07-12_3300042398.bam ../maptodrep96/ME2014-06-10_3300042385.bam ../maptodrep96/ME2014-06-16_3300033992.bam ../maptodrep96/ME2014-06-17_3300034356.bam ../maptodrep96/ME2002-07-17_3300042464.bam ../maptodrep96/ME2002-08-01_3300044695.bam ../maptodrep96/ME2008-08-07_3300042389.bam ../maptodrep96/ME2002-06-17_3300042432.bam ../maptodrep96/ME2005-08-31_3300042366.bam ../maptodrep96/ME2006-06-29D9_3300042301.bam ../maptodrep96/ME2006-07-05D10_3300042463.bam ../maptodrep96/ME2011-09-04_3300044729.bam ../maptodrep96/ME2015-06-25_3300042431.bam ../maptodrep96/ME2012-09-21_3300035188.bam ../maptodrep96/ME2012-07-27_3300034062.bam ../maptodrep96/ME2011-08-22_3300035126.bam ../maptodrep96/ME2012-08-03_3300034092.bam ../maptodrep96/ME2013-08-15_3300042475.bam ../maptodrep96/ME2017-06-20_3300042352.bam ../maptodrep96/ME2001-04-23_3300042358.bam ../maptodrep96/ME2006-06-27D10_3300042459.bam ../maptodrep96/ME2017-06-16_3300042330.bam ../maptodrep96/ME2014-07-27_3300042368.bam ../maptodrep96/ME2015-07-19_3300042456.bam ../maptodrep96/ME2015-07-26_3300044635.bam ../maptodrep96/ME2018-05-07_3300042481.bam ../maptodrep96/ME2013-02-09s1D0_3300042316.bam --genome-definition coverM_genome_reference.txt --min-read-percent-identity-pair 93 --proper-pairs-only --methods relative_abundance mean rpkm tpm --contig-end-exclusion 1000 --output-file coverM_drep96_minANI93.txt --output-format sparse --threads 64 &> coverM_drep96_terminal_output_minANI93.txt
```

For clarity, the command without all the sample bams looks like:
```
coverm genome --bam-files ... --genome-definition coverM_genome_reference.txt --min-read-percent-identity-pair 93 --proper-pairs-only --methods relative_abundance mean rpkm tpm --contig-end-exclusion 1000 --output-file coverM_drep96_minANI93.txt --output-format sparse --threads 64
```



